{% assign permalinkURL = '' %}
{% assign shareTitle = '' %}
{% assign shareImage = '' %}
{% if template contains 'article' %}

    {% capture permalinkURL %}{{ shop.url }}{{ article.url }}{% endcapture %}
    {% capture shareTitle %}{{ article.title }}{% endcapture %}
    {% if article.featured_image %}
      {% capture shareImage %}{{ article.featured_image | img_url: '1200x' }}{% endcapture %}
    {% elsif settings.share_image %}
      {% capture shareImage %}{{ settings.share_image | img_url: '1200x' }}{% endcapture %}
    {% endif %}

{% elsif template contains 'product' %}

    {% capture permalinkURL %}{{ shop.url }}{{ product.url }}{% endcapture %}
    {% capture shareTitle %}{{ product.title }}{% endcapture %}
    {% if product.media.size > 0 %}
      {% capture shareImage %}{{ product.media[0].preview_image | product_img_url: '1200x' }}{% endcapture %}
    {% elsif settings.share_image %}
      {% capture shareImage %}{{ settings.share_image | img_url: '1200x' }}{% endcapture %}
    {% endif %}

{% endif %}

<div id="sharing" class="social-sharing" data-permalink="{{ permalinkURL }}">

  <div>{{ settings.social_sharing_title | upcase }}</div>
  {% if settings.share_twitter %}
  <a href="//twitter.com/share?url={{ permalinkURL }}&amp;text={{ shareTitle | escape }}" target="_blank" rel="noopener" aria-label="Share on Twitter">
    <div class="sharing-button"><div aria-hidden="true" class="sharing-button__icon">
      <svg id="Twitter" xmlns="http://www.w3.org/2000/svg" width="32.75" height="32.75" viewBox="0 0 32.75 32.75">
        <circle id="Icon_BG" data-name="Icon BG" cx="16.375" cy="16.375" r="16.375"/>
        <path id="Twitter-2" data-name="Twitter" d="M16.337,11.554a5.21,5.21,0,0,1-1.5.412,2.623,2.623,0,0,0,1.151-1.449,5.241,5.241,0,0,1-1.663.636A2.621,2.621,0,0,0,9.86,13.541a7.435,7.435,0,0,1-5.4-2.736,2.622,2.622,0,0,0,.81,3.5,2.611,2.611,0,0,1-1.186-.328c0,.011,0,.022,0,.033a2.62,2.62,0,0,0,2.1,2.567,2.633,2.633,0,0,1-.69.092A2.594,2.594,0,0,1,5,16.619a2.621,2.621,0,0,0,2.446,1.818,5.284,5.284,0,0,1-3.877,1.084,7.447,7.447,0,0,0,11.464-6.274q0-.17-.007-.339A5.3,5.3,0,0,0,16.337,11.554Z" transform="translate(6.251 0.809)" fill="#fff"/>
      </svg>      
      </div>
    </div>
  </a>
  {% endif %}
  
  {% if settings.share_facebook %}
  <a href="//www.facebook.com/sharer.php?u={{ permalinkURL }}" target="_blank" rel="noopener" aria-label="Share on Facebook">
    <div class="sharing-button"><div aria-hidden="true" class="sharing-button__icon">
      <svg id="Facebook" xmlns="http://www.w3.org/2000/svg" width="32.75" height="32.75" viewBox="0 0 32.75 32.75">
        <circle id="Icon_BG" data-name="Icon BG" cx="16.375" cy="16.375" r="16.375" transform="translate(0)"/>
        <path id="Facebook-2" data-name="Facebook" d="M23.8,10.149H21.817V8.85a.529.529,0,0,1,.551-.6h1.4V6.1L21.841,6.1a2.438,2.438,0,0,0-2.623,2.623v1.43H17.982v2.21h1.236v6.253h2.6V12.359h1.754Z" transform="translate(-4.227 3.729)" fill="#fff"/>
      </svg>      
      </div>
    </div>
  </a>
  {% endif %}

  {% if settings.share_pinterest and shareImage %}
  <a href="//pinterest.com/pin/create/button/?url={{ permalinkURL }}&amp;media={{ shareImage | escape }}&amp;description={{ product.title | escape }}" target="_blank" rel="noopener" aria-label="Share on Pinterest">
    <div class="sharing-button"><div aria-hidden="true" class="sharing-button__icon">
      <svg id="black" xmlns="http://www.w3.org/2000/svg" width="33.216" height="33.216" viewBox="0 0 33.216 33.216">
        <g id="pinterest">
          <path id="Pinterest-2" data-name="Pinterest" d="M16.608,33.216A16.608,16.608,0,1,0,0,16.608,16.608,16.608,0,0,0,16.608,33.216Z" fill-rule="evenodd"/>
          <path id="Pinterest-3" data-name="Pinterest" d="M23.13,23.78c2.775,0,4.658-2.583,4.658-6.04a5.205,5.205,0,0,0-5.465-5.048c-4.1,0-6.169,3-6.169,5.5a3.409,3.409,0,0,0,1.768,3.367.3.3,0,0,0,.432-.221c.039-.155.134-.545.176-.707a.433.433,0,0,0-.124-.491,2.576,2.576,0,0,1-.569-1.728,4.13,4.13,0,0,1,4.25-4.22,3.261,3.261,0,0,1,3.592,3.377c0,2.541-1.1,4.685-2.737,4.685a1.356,1.356,0,0,1-1.363-1.7,19.29,19.29,0,0,0,.762-3.127,1.171,1.171,0,0,0-1.164-1.323c-.923,0-1.665.975-1.665,2.281a3.444,3.444,0,0,0,.276,1.394s-.945,4.086-1.111,4.8a7.817,7.817,0,0,0-.152,1.973c.063.543.589.985,1.045.389a7.369,7.369,0,0,0,.844-1.846c.106-.392.607-2.422.607-2.422A2.462,2.462,0,0,0,23.13,23.78Z" transform="translate(-5.363 -3.356)" fill="#fff" fill-rule="evenodd"/>
        </g>
      </svg>      
      </div>
    </div>
  </a>
  {% endif %}
</div>
